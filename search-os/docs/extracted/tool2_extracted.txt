=== P√°gina 1 ===
üöÇ
S E A R C H  O S  ( T o o l  2 )  
Mast er T echnic al Specif ic ation Document
Met adat os Det alle
V ersi√≥n 7 . 0 ÓÇÅFinal R ele ase Candidat e )
Pr op√≥sit o Plat af or ma SaaS de Cualific aci√≥n y Gesti√≥n de De alflo w ÓÇÅCRM Anal√≠tico )
Cor e V alueT ransf or mar list ados est √°ticos ÓÇÅSABIÓÇÇ en int eligencia accionable mediant e
IA fle xible.
St ackPy thon, Str e amlit ÓÇÅAgGr id), LangChain, APIs
ÓÇÅGr oq/DeepInfra/OpenAI/Google ).
1 .  V I S I √ì N  E J E C U T I V A  Y  G U √ç A  D E  U S O
1 . 1  ¬ø Q u √©  e s  l a  T o o l  2 ?
Es un "Ex cel Int eligent e con Cer ebr os Int er c ambiables " . Su funci√≥n es inger ir  
list ados masiv os de empr esas ÓÇÅSABIÓÇÇ, enr iquecer los aut om√°tic ament e con dat os  
de int er net ÓÇÅScor ing IAÓÇÇ y per mitir su gesti√≥n como un CRM ÓÇÅEtiquet as, Fil tr os,  
Chat).
1 . 2  F l u j o  d e  U s u a r i o  ( T h e  G o l d e n  P a t h )
ÓÅ≤ÓÇî Ingest a ÓÇÅImpor t):  El usuar io ar rastra un ar chiv o . c s v  o . x l s x  de SABI. El sist ema  
det ect a c abeceras cla v e ÓÇÅNombr e, W eb, EBITD AÓÇÇ.
ÓÅ≥ÓÇî Enr iquecimient o ÓÇÅAI Columns):
El usuar io cr e a columnas int eligent es ( ej. "¬øExist e R ele v o Gener acional?" ).
Selecciona el modelo de IA seg√∫n la necesidad: V elocidad  ÓÇÅGr oq) vs. 
Pr ofundidad  ÓÇÅGPT ÓÇà4o ) vs. V olumen  ÓÇÅDeepInfra).
SEARCH OS ÓÇÅT ool 2ÓÇÇ
1

=== P√°gina 2 ===
El sist ema busc a en int er net y r ellena la celda con un Scor e ÓÇÅ0ÓÇà10ÓÇÇ y una  
e xplic aci√≥n.
ÓÅ¥ÓÇî Gesti√≥n ÓÇÅCRMÓÇÇÓÇí
El usuar io etiquet a empr esas ("Int er esant e " , "Desc ar t ado ") usando t ags  
visuales.
Mue v e empr esas entr e list as ("Longlist" ‚Üí "Shor tlist").
ÓÅµÓÇî Consul t a ÓÇÅDat a Chat):  Un asist ent e lat eral per mit e "hablar" con la t abla  
("F√≠l trame las empr esas de V alencia con EBITD A ÓÇò 1M‚Ç¨").
2 .  E S P E C I F I C A C I √ì N  D E  U I / U X  ( F R O N T E N D )
2 . 1  L a  P a n t a l l a  P r i n c i p a l :  " T h e  I n t e l l i g e n t  G r i d "
Dise√±o visual estilo A ir t able  o Line ar , implement ado con A gGr id .
Estructur a:
Bar r a Super ior ÓÇÅT oolb ar):
Bot ones: ÓÇÉ ÓÇù  N u e v a  C o l u m n a  I A ÓÇÑ , ÓÇÉ ÓÇù  N u e v a  E t i q u e t a ] .
T abs de Na v egaci√≥n: [üì•  L o n g l i s t ]  [‚≠ê  S h o r t l i s t ]  [üóë  D e s c a r t a d o s ] .
Bar r a Flot ant e ÓÇÅA ction Bar):  Ap ar ece al seleccionar filas ( checkbo x es) en  
la p ar t e inf er ior . P er mit e acciones en lot e: M o v e r , B o r r a r , E j e c u t a r  I A .
Anat om√≠a de las Columnas ÓÇÅCell R ender ers):
Identidad ÓÇÅFija Iz q):  Nombr e en negr it a ÓÇù Link W eb ( ‚Üó ) ÓÇù Logo/F a vicon.
Financier as:  F or mat o num√©r ico comp act o y monoesp aciado ( 1 . 5 M  ‚Ç¨ ).  
Aline aci√≥n der echa.
AI Scor es ÓÇÅSem√°f or o ):  Badges visuales color e ados seg√∫n el v alor:
üü¢  8ÓÇà10ÓÇí  V er de ÓÇÅT ar get Ide al).
üü°  5ÓÇà 7 ÓÇí  Amar illo ÓÇÅDuda).
üî¥  0ÓÇà4ÓÇí  R ojo ÓÇÅDesc ar t e ).
T ool tip:  Al p asar el mouse, muestra la justific aci√≥n generada por la IA.
SEARCH OS ÓÇÅT ool 2ÓÇÇ
2

=== P√°gina 3 ===
T ags:  Estilo "Notion" ÓÇÅBadges p ast eles). Edit ables con un clic ÓÇÅDr opdo wn  
nativ o ).
2 . 2  M o d a l  d e  C r e a c i √≥ n  d e  C o l u m n a  I A
El punt o cr √≠tico donde el usuar io configura la int eligencia.
Input:  T√≠tulo de la Columna ( ej. "Riesgo R egulat or io ").
Input:  Pr ompt ÓÇÅInstrucciones p ara la IAÓÇÇ.
Select or de Modelo ÓÇÅDr opdo wn):
‚ö°  Inst ant √°neo:  Gr oq ÓÇÅLlama- 3ÓÇà 7 0BÓÇÇ. Def aul t.
üè≠  Bat ch / Econ√≥mico:  DeepInfra ÓÇÅLlama- 3/Mix tral).
üß†  R az onamient o Complejo:  OpenAI ÓÇÅGPT ÓÇà4o ).
üìö  Cont e x t o Lar go:  Google ÓÇÅGemini 1. 5 Pr o ).
Swit ch:  A u t o - o p t i m i z a r  c o l u m n a s  ÓÇÅ S m a r t  C o n t e x t )  ÓÇÅActiv ado por def ect o ).
2 . 3  A s i s t e n t e  L a t e r a l  ( D a t a  C h a t )
Panel desplegable a la der echa. Usa Gr oq  por def ect o p ara r espuest as  
inst ant √°ne as sobr e los dat os visibles en la t abla actual.
3 .  A R Q U I T E C T U R A  T √â C N I C A  ( B A C K E N D )
3 . 1  L L M  F a c t o r y  ( E l  E n r u t a d o r )
Patr √≥n de dise√±o F act or y  p ara inst anciar el client e LLM cor r ect o seg√∫n la elecci√≥n  
del usuar io en la UI.
Py thon
f r o m  l a n g c h a i n _ g r o q  i m p o r t  C h a t G r o q
f r o m  l a n g c h a i n _ o p e n a i  i m p o r t  C h a t O p e n A I
f r o m  l a n g c h a i n _ g o o g l e _ g e n a i  i m p o r t  C h a t G o o g l e G e n e r a t i v e A I
c l a s s  L L M F a c t o r y :
    @ s t a t i c m e t h o d
    d e f  g e t _ m o d e l ( u i _ s e l e c t i o n ,  a p i _ k e y s ) :
        #  1 .  I N S T A N T √Å N E O  ÓÇÅ G R O Q ÓÇÇ  ÓÇà  I d e a l  U X  i n t e r a c t i v a
        i f  u i _ s e l e c t i o n  = =  " i n s t a n t " :
            r e t u r n  C h a t G r o q ( m o d e l _ n a m e = " l l a m a 3 ÓÇà 7 0 b - 8 1 9 2 " ,  g r o q _ a p i _ k e y = a p i _ k e y s [ ' G R O Q ' ] ,  t e m p e r a t u r e = 0 . 1 ÓÇÇ
SEARCH OS ÓÇÅT ool 2ÓÇÇ
3

=== P√°gina 4 ===
            
        #  2 .  B A T C H  ÓÇÅ D E E P I N F R A ÓÇÇ  ÓÇà  I d e a l  v o l u m e n  ( u s a  c l i e n t e  O p e n A I  c o m p a t i b l e )
        e l i f  u i _ s e l e c t i o n  = =  " b a t c h " :
            r e t u r n  C h a t O p e n A I ( m o d e l = " m e t a - l l a m a / M e t a - L l a m a - 3 ÓÇà 7 0 B ÓÇà I n s t r u c t " ,  
                              a p i _ k e y = a p i _ k e y s [ ' D E E P I N F R A ' ] ,  
                              b a s e _ u r l = " h t t p s : / / a p i . d e e p i n f r a . c o m / v 1 / o p e n a i " ,  t e m p e r a t u r e = 0 . 1 ÓÇÇ
        #  3 .  R A Z O N A M I E N T O  ÓÇÅ O P E N A I ÓÇÇ
        e l i f  u i _ s e l e c t i o n  = =  " c o m p l e x " :
            r e t u r n  C h a t O p e n A I ( m o d e l = " g p t - 4 o " ,  a p i _ k e y = a p i _ k e y s [ ' O P E N A I ' ] )
        #  4 .  C O N T E X T O  ÓÇÅ G O O G L E ÓÇÇ
        e l i f  u i _ s e l e c t i o n  = =  " l o n g _ c o n t e x t " :
            r e t u r n  C h a t G o o g l e G e n e r a t i v e A I ( m o d e l = " g e m i n i - 1 . 5 - p r o " ,  g o o g l e _ a p i _ k e y = a p i _ k e y s [ ' G O O G L E ' ] )
3 . 2  O p t i m i z a d o r  d e  C o n t e x t o  ( S m a r t  C o n t e x t )
Agent e int er medio que r educe el consumo de t ok ens seleccionando solo las  
columnas necesar ias del Ex cel ant es de en viar el pr ompt al LLM pr incip al.
Modelo:  Usa L l a m a - 3 ÓÇà 8 B  ÓÇÅGr oq) por ser c asi gratuit o e inst ant √°neo.
Pr ompt del Sist ema: Py thon
C O N T E X T _ O P T I M I Z E R _ S Y S T E M _ P R O M P T  ÓÇõ  " " "
E R E S  U N  I N G E N I E R O  D E  D A T O S  O P T I M I Z A D O R .
T U  O B J E T I V O ÓÇí  S e l e c c i o n a r  d e l  d a t a s e t  √∫ n i c a m e n t e  l a s  c o l u m n a s  e s t r i c t a m e n t e  n e c e s a r i a s  p a r a  r e s p o n d e r  a l  
p r o m p t  d e l  u s u a r i o .
I N P U T S ÓÇí  P r o m p t  U s u a r i o  ÓÇù  L i s t a  d e  H e a d e r s  d e l  C S V .
R E G L A ÓÇí  S √©  m i n i m a l i s t a .  I n c l u y e  s i e m p r e  ' N o m b r e '  y  ' W e b ' .  D e v u e l v e  J S O N  A r r a y  d e  s t r i n g s .
" " "
3 . 3  P i p e l i n e  d e  E j e c u c i √≥ n  ( L √≥ g i c a  B a t c h )
Cuando el usuar io ejecut a una columna sobr e 1. 000 filas:
ÓÅ≤ÓÇî Planif ic aci√≥n:  El Smar t Cont e x t  det er mina qu√© columnas leer ( ej. solo E B I T D A  y  
N o m b r e ).
ÓÅ≥ÓÇî Construcci√≥n:  Se cr e a un JSON liger o por fila.
ÓÅ¥ÓÇî Enr iquecimient o:  ÓÇÅOpcional) Se busc an dat os en T a vil y .
ÓÅµÓÇî Inf er encia:  Se llama al modelo seleccionado en la L L M F a c t o r y .
ÓÅ∂ÓÇî R esul t ado:  Se actualiza el S e s s i o n S t a t e  y la Gr id se r efr esc a.
4 .  M O D E L O  D E  D A T O S  ( J S O N  S T A T E )
SEARCH OS ÓÇÅT ool 2ÓÇÇ
4

=== P√°gina 5 ===
La estructura de dat os persist ent e en s t . s e s s i o n _ s t a t e  p ara sopor t ar columnas  
din√°mic as y configuraci√≥n de modelos.
JSON
{
  " p r o j e c t _ i d " :  " S e c t o r _ V i t i v i n i c o l a _ 2 0 2 5 " ,
  " d a t a _ l i s t s " :  {
    " l o n g l i s t " :  [  { " i d " :  " B 1 2 3 " ,  " N o m b r e " :  " B o d e g a s  X " ,  " E B I T D A " ÓÇí  5 0 0 0 0 0 ,  " a i _ r e l e v o " ÓÇí  8 ÓÇÜ  ÓÇÑ ,
    " s h o r t l i s t " :  [ ] ,
    " d i s c a r d e d " :  [ ]
  } ,
  " c o l u m n _ d e f i n i t i o n s " :  [
    {
      " f i e l d " :  " a i _ r e l e v o " ,
      " t i t l e " :  " R e l e v o  G e n e r a c i o n a l " ,
      " t y p e " :  " a i _ s c o r e " ,
      " c o n f i g " :  {
        " u s e r _ p r o m p t " :  " A n a l i z a  e d a d  a d m i n i s t r a d o r e s . . . " ,
        " m o d e l _ s e l e c t e d " :  " i n s t a n t " ,  / /  G u a r d a m o s  l a  e l e c c i √≥ n
        " s m a r t _ c o n t e x t " :  t r u e
      }
    } ,
    {
      " f i e l d " :  " t a g _ e s t a d o " ,
      " t i t l e " :  " E s t a d o " ,
      " t y p e " :  " t a g _ s e l e c t " ,
      " o p t i o n s " :  [ " P e n d i e n t e " ,  " C o n t a c t a d o " ,  " N D A " ]
    }
  ]
}
5 .  C O N F I G U R A C I √ì N  V I S U A L  ( S N I P P E T  A G G R I D )
Configuraci√≥n cr √≠tic a p ara los desar r ollador es F r ont end ÓÇÅStr e amlit) p ara lograr el  
look & f eel dese ado.
Py thon
g r i d _ o p t i o n s  =  {
    " r o w H e i g h t " ÓÇí  5 0 ,
    " h e a d e r H e i g h t " ÓÇí  4 5 ,
    " a n i m a t e R o w s " ÓÇí  T r u e ,
    " r o w S e l e c t i o n " :  " m u l t i p l e " ,  #  P e r m i t e  s e l e c c i √≥ n  m √∫ l t i p l e  c o n  c h e c k b o x e s
    " s u p p r e s s C e l l F o c u s " ÓÇí  T r u e ,
    " c o l u m n D e f s " :  [
        {
            " f i e l d " :  " N o m b r e " ,
            " p i n n e d " :  " l e f t " ,
            " w i d t h " ÓÇí  2 5 0 ,
SEARCH OS ÓÇÅT ool 2ÓÇÇ
5

=== P√°gina 6 ===
            " c e l l R e n d e r e r " :  " C o m p a n y L o g o R e n d e r e r "  
        } ,
        {
            " f i e l d " :  " ÓÇÉ A I ÓÇÑ  R e l e v o " ,
            " c e l l R e n d e r e r " :  " S c o r e B a d g e R e n d e r e r " ,  #  R e n d e r i z a  e l  B a d g e  d e  c o l o r
            " t o o l t i p F i e l d " :  " r e l e v o _ r e a s o n "        #  T o o l t i p  c o n  l a  e x p l i c a c i √≥ n
        } ,
        {
            " f i e l d " :  " E s t a d o " ,
            " e d i t a b l e " ÓÇí  T r u e ,
            " c e l l E d i t o r " :  " a g S e l e c t C e l l E d i t o r " ,
            " c e l l E d i t o r P a r a m s " :  { " v a l u e s " :  [ " L o n g l i s t " ,  " C o n t a c t a d o " ,  " N D A " ] }
        }
    ]
}
6 .  R O A D M A P  D E  I M P L E M E N T A C I √ì N
ÓÅ≤ÓÇî F ase 1 ÓÇÅCor e Dat a):  Ingest a de CSV ÓÇù R ender izado de AgGr id b √°sico ÓÇù  
P ersist encia de columnas manuales ÓÇÅT ags).
ÓÅ≥ÓÇî F ase 2 ÓÇÅAI Engine ):  Implement ar L L M F a c t o r y  y conectividad con las 4 APIs.
ÓÅ¥ÓÇî F ase 3 ÓÇÅOptimization):  Implement ar el S m a r t C o n t e x t O p t i m i z e r  p ara fil trar JSONs  
ant es de en viar .
ÓÅµÓÇî F ase 4 ÓÇÅUX P olish):  Badges de color es ÓÇÅSem√°f or o ), T ool tips, Bar ra de  
Acciones Flot ant e y Asist ent e Lat eral ÓÇÅGr oq).
SEARCH OS ÓÇÅT ool 2ÓÇÇ
6
